<!doctype html>
<html lang="ru">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Создание платежа Solana</title>
		<link rel="stylesheet" href="/styles.css" />
		<script src="https://unpkg.com/@solana/web3.js@1.95.3/lib/index.iife.min.js"></script>
	</head>
	<body>
		<div class="container">
			<h1>Создание платежа Solana</h1>
			<p class="muted">
				<strong>Как это работает:</strong><br>
				1️⃣ Клиент (кто платит) открывает этот сайт и подключает свой Phantom<br>
				2️⃣ Вы вводите ВАШ адрес (куда придут деньги) и сумму<br>
				3️⃣ Нажимаете кнопку → создаётся транзакция → клиент видит запрос в Phantom и подтверждает
			</p>

			<div class="card">
				<h3>Шаг 1: Клиент подключает кошелёк</h3>
				<div class="row">
					<button id="connectButton">Подключить Phantom</button>
					<div class="inline">
						<label>Сеть:</label>
						<select id="networkSelect">
							<option value="testnet" selected>testnet</option>
							<option value="devnet">devnet</option>
							<option value="mainnet-beta">mainnet-beta</option>
						</select>
					</div>
				</div>
				<div class="info">
					<div><strong>Кошелёк клиента (кто платит):</strong> <span id="clientAddress">не подключен</span></div>
					<div class="hint">⚠️ В Phantom должна быть выбрана та же сеть</div>
				</div>
			</div>

			<div class="card">
				<h3>Шаг 2: Вы создаёте запрос на оплату</h3>
				<div class="field">
					<label for="recipientInput">Ваш адрес (кому придут деньги)</label>
					<input id="recipientInput" type="text" placeholder="Например: 4Nd1m... (ваш Solana адрес)" />
				</div>
				<div class="field">
					<label for="amountInput">Сумма (SOL)</label>
					<input id="amountInput" type="number" min="0" step="0.000000001" placeholder="Например: 0.5" />
				</div>
				<button id="payButton" class="primary" disabled>Создать транзакцию и отправить на подтверждение</button>
			</div>

			<div id="status" class="status"></div>
			<div id="result" class="result"></div>
		</div>

		<script src="/app.js"></script>
	</body>
	</html>


